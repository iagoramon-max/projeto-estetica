<div>
  <div class="text-sm text-gray-500 mb-3">Horários disponíveis</div>
  <div class="grid grid-cols-3 gap-2">
    {% for s in slots_info %}
      {% if s.available %}
        <button class="p-2 rounded-lg border bg-white hover:bg-pink-50"
                onclick="openBookingForm('{{ s.start_iso }}', {{ service.id }}, {{ request.GET.professional_id }})">
          {{ s.start|date:'H:i' }}
        </button>
      {% else %}
        <button class="p-2 rounded-lg border bg-gray-100 text-gray-400 cursor-not-allowed" disabled>Ocupado</button>
      {% endif %}
    {% endfor %}
  </div>
</div>

<script>
function openBookingForm(startIso, serviceId, profId){
  const formatted = new Date(startIso).toLocaleString('pt-BR');
  const html = `
  <div id="modalWrap" class="fixed inset-0 z-50 flex items-center justify-center bg-black/40">
    <div class="bg-white rounded-xl p-6 w-96">
      <h3 class="text-lg font-semibold mb-3">Confirmar agendamento</h3>
      <div class="mb-2">Horário: <strong>${formatted}</strong></div>
      <div class="mb-2"><input id="modal-name" placeholder="Nome" class="w-full p-2 border rounded" /></div>
      <div class="mb-4"><input id="modal-phone" placeholder="Telefone (55119...)" class="w-full p-2 border rounded" /></div>
      <div class="flex gap-2 justify-end">
        <button onclick="document.getElemen
